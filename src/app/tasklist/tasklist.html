@if (isAddingNewTask){
   <app-new-task [userID]="userId"
   (close)="onCloseNewTask()" [projectID]="projectId" ></app-new-task>
}

<section id="tasks">
<header>
        <h2>{{name}}'s tasks :</h2>
        <menu>
                <button (click)="onNewTask()">Add new Task</button>
                @if (ordering ==='deadline') {
                        <button id="sorted" (click)="onSortDeadline()">sorted by deadline</button>
                }
                @else {
                        <button id="sort" (click)="onSortDeadline()">sort by deadline</button>
                }
                <input id="search" [(ngModel)]="searchTerm" placeholder="search a task" (keyup.enter)="onSearch()">
                <button id="search" (click)="onSearch()">search</button>
        </menu>
</header>

<ul> 
        
   @for (item of taskService.backend_tasks ; track item.id){
   <li>
        <app-task [task]="item" ></app-task>
   </li>
   }
</ul>
<div class="pagination">
  <button (click)="goToPrevPage()" [disabled]="!taskService.prevPageUrl">صفحه قبل</button>
  <span>صفحه {{currentPage}}</span>
  <button (click)="goToNextPage()" [disabled]="!taskService.nextPageUrl">صفحه بعد</button>
</div>


</section>




<!-- {{ task.title }} {{task.id}} {{task.user_id}} -->
